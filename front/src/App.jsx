import { useState } from 'react'
import { useEffect } from 'react'
import './App.css'


// import React, { Component } from 'react';

import { ReactP5Wrapper } from '@p5-wrapper/react';



function sketch(p5) {
  let duration;  // 5 seconds at 60 frames per second
  let currentFrame;
  let i;
  let j;
  let k;
  // let testMsg;
  // let testMsgInt;
  let path;
  let foodPath;
  let jsonStr;
  let foodJsonStr;
  let path_curr;
  const CANVAS_X = 500;
  const CANVAS_Y = 500;
  p5.setup = () => {
    // fetch('http://localhost:8080/sketchtest')
    // .then(response => response.text())
    // .then(data => {
    //     testMsg = data;
    //     testMsgInt = Number(testMsg);
    // })
    // .catch(error => console.error('Error:', error));
    jsonStr = '[[{"moveTime":1.0,"x":22.684150354420503,"y":7.837686055083099},{"moveTime":0.25240298593591254,"x":28.703922145094694,"y":7.1611259628539035},{"moveTime":0.625,"x":43.6148437887573,"y":5.528822150276779},{"moveTime":0.12259701406408752,"x":43.6148437887573,"y":5.528822150276779},{"moveTime":0.13268503814124757,"x":44.13600607980608,"y":8.670327173350643},{"moveTime":0.625,"x":44.772031156022464,"y":23.656836843798214},{"moveTime":0.24231496185875245,"x":44.772031156022464,"y":23.656836843798214},{"moveTime":1.0,"x":63.656355816416166,"y":38.4683959150387},{"moveTime":1.0,"x":80.37009849681505,"y":21.24484211178971},{"moveTime":1.0,"x":104.31246471888585,"y":19.582584704453808},{"moveTime":1.0,"x":117.14246857387964,"y":39.86536067523366},{"moveTime":1.0,"x":138.02592343190838,"y":28.038217605469264},{"moveTime":1.0,"x":142.79871311815597,"y":4.517578187909873},{"moveTime":1.0,"x":166.62754452338586,"y":7.378835579535128},{"moveTime":1.0,"x":176.38706321197074,"y":29.304888461145225},{"moveTime":1.0,"x":190.61713689936315,"y":48.63116598299051},{"moveTime":0.6076052581880932,"x":203.17938712506685,"y":56.03656533338554},{"moveTime":0.3923947418119068,"x":211.33531639223935,"y":51.328101610659715},{"moveTime":0.23260525818810135,"x":216.17001938595038,"y":48.53700044850678},{"moveTime":0.7673947418118987,"x":216.17001938595038,"y":48.53700044850678},{"moveTime":1.0,"x":205.28168760180168,"y":69.92494637508648},{"moveTime":1.0,"x":200.121028891953,"y":93.36353851882376},{"moveTime":1.0,"x":221.49025102085213,"y":104.28857149844295},{"moveTime":1.0,"x":240.6433691810929,"y":89.82627345353133},{"moveTime":1.0,"x":237.3801853859828,"y":66.04914933139807},{"moveTime":1.0,"x":260.95160079859926,"y":61.533800458291275}],[{"moveTime":1.0,"x":15.203068124823808,"y":18.570587486451963},{"moveTime":0.6284609328322699,"x":29.842941161022633,"y":22.200034893910697},{"moveTime":0.3715390671677301,"x":38.71772543367116,"y":23.066049033925637},{"moveTime":0.2534609328322699,"x":44.772031156022464,"y":23.656836843798214},{"moveTime":0.7465390671677301,"x":44.772031156022464,"y":23.656836843798214},{"moveTime":1.0,"x":63.249014922889835,"y":38.9735294005782},{"moveTime":1.0,"x":60.24874343807987,"y":62.78525699471626},{"moveTime":1.0,"x":82.40455412034646,"y":72.01130994338082},{"moveTime":1.0,"x":104.8799425928933,"y":80.42896478354318},{"moveTime":1.0,"x":101.6314784286076,"y":104.20810439315377},{"moveTime":1.0,"x":77.63615956328408,"y":104.6821007554288},{"moveTime":1.0,"x":72.88674652571038,"y":81.15672985934037},{"moveTime":1.0,"x":84.83967094060712,"y":60.345012055858476},{"moveTime":1.0,"x":92.76501086918934,"y":37.691337143906104},{"moveTime":1.0,"x":115.83910292726546,"y":44.293327426800246},{"moveTime":1.0,"x":139.63809982711916,"y":47.392963947548},{"moveTime":1.0,"x":162.34209070101707,"y":39.61293834360812},{"moveTime":1.0,"x":179.02791258819943,"y":56.86354262140739},{"moveTime":1.0,"x":202.0622626065676,"y":50.12420146434296},{"moveTime":1.0,"x":209.86187302389231,"y":27.426931202526013},{"moveTime":1.0,"x":233.43544525186755,"y":22.922856112961554},{"moveTime":1.0,"x":247.11462148914612,"y":3.202812059525133}],[{"moveTime":1.0,"x":11.405362498403871,"y":21.116763631769018},{"moveTime":1.0,"x":24.828613459780282,"y":41.011897047454056},{"moveTime":1.0,"x":43.90128021363611,"y":55.58012902310444},{"moveTime":1.0,"x":50.30061887569315,"y":78.71124366741637},{"moveTime":1.0,"x":73.77530029799226,"y":83.70517319450873},{"moveTime":1.0,"x":97.71631709432528,"y":82.02359216532807},{"moveTime":1.0,"x":108.55921316523796,"y":103.43460813364182},{"moveTime":0.7801032216268481,"x":125.86547298586083,"y":110.57775365807464},{"moveTime":0.2198967783731519,"x":131.12455763103034,"y":110.13698802540375},{"moveTime":0.4051032216268478,"x":140.81306761434243,"y":109.32499078243197},{"moveTime":0.5948967783731522,"x":140.81306761434243,"y":109.32499078243197},{"moveTime":1.0,"x":155.9215781516089,"y":127.97258873351691},{"moveTime":1.0,"x":162.04558266040505,"y":151.17811757421012},{"moveTime":1.0,"x":177.34786813605217,"y":169.6670347740301},{"moveTime":1.0,"x":179.37479966727523,"y":193.58128886166023},{"moveTime":1.0,"x":195.79543698165062,"y":211.08450771390974},{"moveTime":1.0,"x":217.62905189221397,"y":221.0491080539749},{"moveTime":1.0,"x":219.2592266453378,"y":244.99368009596967},{"moveTime":1.0,"x":201.53075094139083,"y":261.1708599866231},{"moveTime":1.0,"x":188.01368629938617,"y":281.00237438829873},{"moveTime":1.0,"x":168.0535134644627,"y":267.6760282874358},{"moveTime":1.0,"x":162.95444416487754,"y":244.22396031299}],[{"moveTime":1.0,"x":6.506461050284514,"y":23.101211323243},{"moveTime":1.0,"x":3.236496138616408,"y":46.87740381650103},{"moveTime":1.0,"x":14.368310565976794,"y":68.13964047106799},{"moveTime":1.0,"x":38.2428397920742,"y":70.59052892879528},{"moveTime":1.0,"x":58.569200941259076,"y":83.3513691218589},{"moveTime":1.0,"x":74.49383369570099,"y":101.30703874557818},{"moveTime":1.0,"x":92.69861687338128,"y":116.94628007799736},{"moveTime":1.0,"x":114.67101323385836,"y":126.60100939466355},{"moveTime":1.0,"x":114.85961620593339,"y":150.60026831903295},{"moveTime":1.0,"x":138.76356979704045,"y":152.74526312420153},{"moveTime":1.0,"x":159.82321296668482,"y":141.2347709728098},{"moveTime":1.0,"x":182.10359592151093,"y":150.1557874724187},{"moveTime":1.0,"x":204.94034678054996,"y":142.77454027413435},{"moveTime":1.0,"x":225.4168225262081,"y":155.29308416060428},{"moveTime":1.0,"x":248.68238357060855,"y":149.40125343584},{"moveTime":1.0,"x":264.05093869753136,"y":167.83512208327085},{"moveTime":1.0,"x":265.58519930596066,"y":191.78603113460795},{"moveTime":1.0,"x":243.93055006594764,"y":202.13379254913642},{"moveTime":1.0,"x":224.76640286700794,"y":216.58147271369475},{"moveTime":1.0,"x":217.7033681976447,"y":239.5186377795736}],[{"moveTime":1.0,"x":8.815419909012567,"y":22.322373794643454},{"moveTime":0.88512336436338,"x":30.0151180801366,"y":20.96731709656664},{"moveTime":0.11487663563661998,"x":32.7274773226003,"y":21.461657864630986},{"moveTime":0.5101233643633798,"x":44.772031156022464,"y":23.656836843798214},{"moveTime":0.4898766356366202,"x":44.772031156022464,"y":23.656836843798214},{"moveTime":1.0,"x":68.35013216485939,"y":28.13714406731353},{"moveTime":1.0,"x":73.69635765123594,"y":4.740181165073036},{"moveTime":1.0,"x":97.43133111667748,"y":1.1833518755532344},{"moveTime":1.0,"x":105.2685469180834,"y":23.867664703633203},{"moveTime":1.0,"x":82.77586147656453,"y":32.23899086075343},{"moveTime":1.0,"x":66.65581907433315,"y":14.45854562025783},{"moveTime":1.0,"x":46.129986506486944,"y":26.895997023047062},{"moveTime":1.0,"x":29.246824637549445,"y":43.953512824219715},{"moveTime":1.0,"x":6.896694429052115,"y":35.20870409771145},{"moveTime":1.0,"x":3.528148787074151,"y":11.4462778693586},{"moveTime":1.0,"x":27.203690303022398,"y":7.513246732104421},{"moveTime":1.0,"x":49.10312159162332,"y":17.33235612327871},{"moveTime":1.0,"x":45.060713596522426,"y":40.989467899679994},{"moveTime":1.0,"x":27.25167233237979,"y":57.077912487397754},{"moveTime":1.0,"x":30.36903009551595,"y":80.87459462118721},{"moveTime":1.0,"x":48.46485316821823,"y":96.63978372000415},{"moveTime":1.0,"x":69.53049503721206,"y":108.1392938246692}],[{"moveTime":1.0,"x":10.519397766321852,"y":21.57179340328251},{"moveTime":0.9411123312095997,"x":31.338573411552677,"y":30.330832126051902},{"moveTime":0.058887668790400305,"x":32.60427742813855,"y":29.702006488147823},{"moveTime":0.5661123312095996,"x":44.772031156022464,"y":23.656836843798214},{"moveTime":0.4338876687904004,"x":44.772031156022464,"y":23.656836843798214},{"moveTime":1.0,"x":56.27947756976708,"y":2.5955292624822803},{"moveTime":1.0,"x":80.1598514021847,"y":4.988800167328645},{"moveTime":1.0,"x":103.44373204419036,"y":10.807812304180942},{"moveTime":1.0,"x":123.85053443295163,"y":23.439614086430666},{"moveTime":1.0,"x":146.84349508074834,"y":30.318840834319687},{"moveTime":1.0,"x":159.44062234562128,"y":50.74706603066494},{"moveTime":1.0,"x":174.78040881352808,"y":69.20488147884362},{"moveTime":1.0,"x":195.93436908270678,"y":80.54110505329771},{"moveTime":1.0,"x":200.49740140456274,"y":104.10333618767244},{"moveTime":1.0,"x":192.82254733365292,"y":126.84309465143451},{"moveTime":1.0,"x":169.2268149729482,"y":122.45659099111558},{"moveTime":1.0,"x":146.4962349738356,"y":130.15858637568593},{"moveTime":1.0,"x":141.37959445051908,"y":153.6068270294142},{"moveTime":1.0,"x":118.7099579037483,"y":161.486394202636},{"moveTime":1.0,"x":99.12559916151332,"y":175.35913339341747},{"moveTime":1.0,"x":82.19867823892079,"y":192.37322602512427},{"moveTime":1.0,"x":60.9992234459463,"y":181.12230977440802}],[{"moveTime":1.0,"x":13.078872586570327,"y":20.123197853826795},{"moveTime":0.9385109910579025,"x":32.260280019429956,"y":31.930656004015326},{"moveTime":0.06148900894209752,"x":33.49121630346073,"y":31.116657699490705},{"moveTime":0.5635109910579021,"x":44.772031156022464,"y":23.656836843798214},{"moveTime":0.43648900894209786,"x":44.772031156022464,"y":23.656836843798214},{"moveTime":1.0,"x":50.723922800297345,"y":46.907105355254394},{"moveTime":1.0,"x":51.307340221983,"y":70.90001314301688},{"moveTime":1.0,"x":33.12511363494632,"y":86.56547312150639},{"moveTime":1.0,"x":9.375419358709799,"y":90.02264274206284},{"moveTime":1.0,"x":1.063959782592443,"y":112.53751870695697},{"moveTime":1.0,"x":2.5724635357517927,"y":136.4900637998423},{"moveTime":1.0,"x":24.199602886332418,"y":146.89519923916106},{"moveTime":1.0,"x":45.93799612936586,"y":157.06585601300011},{"moveTime":1.0,"x":67.52970122532483,"y":146.587388994913},{"moveTime":1.0,"x":90.39264143500088,"y":153.88711261767966},{"moveTime":1.0,"x":111.54295913431116,"y":165.23013078826557},{"moveTime":1.0,"x":125.69206149404484,"y":145.84449429075073},{"moveTime":1.0,"x":134.91152278954084,"y":123.68593988346028},{"moveTime":1.0,"x":157.78366156392306,"y":130.95679044480462},{"moveTime":1.0,"x":172.67186444719107,"y":112.13283191035576},{"moveTime":1.0,"x":178.41409078329414,"y":88.82989568538694},{"moveTime":1.0,"x":186.81243525112512,"y":66.34728440022585}],[{"moveTime":1.0,"x":16.490493136818557,"y":17.4374205691249},{"moveTime":1.0,"x":22.933279101114003,"y":40.55647135020753},{"moveTime":1.0,"x":30.989210442341534,"y":63.164035797211284},{"moveTime":1.0,"x":54.754570746764244,"y":59.81625300841369},{"moveTime":1.0,"x":78.65327175102433,"y":57.613506924776715},{"moveTime":1.0,"x":89.85614199960615,"y":78.83839086305635},{"moveTime":1.0,"x":110.8051568092647,"y":90.54901759712598},{"moveTime":0.9338539905538313,"x":132.2706811247491,"y":96.9950421587591},{"moveTime":0.06614600944616866,"x":133.17475276864263,"y":98.29996519577068},{"moveTime":0.5588539905538304,"x":140.81306761434243,"y":109.32499078243197},{"moveTime":0.44114600944616955,"x":140.81306761434243,"y":109.32499078243197},{"moveTime":1.0,"x":147.39987686281557,"y":132.4034210566995},{"moveTime":1.0,"x":171.18581029347195,"y":129.20508229534488},{"moveTime":1.0,"x":194.95685296353713,"y":125.8978885638044},{"moveTime":1.0,"x":202.5060750594221,"y":103.11611414329442},{"moveTime":0.4213779685720356,"x":209.34839961461364,"y":95.66918157326194},{"moveTime":0.5786220314279644,"x":214.94376788314162,"y":82.95939620270019},{"moveTime":0.0463779685720346,"x":215.39225031141407,"y":81.94067587326764},{"moveTime":0.9536220314279654,"x":215.39225031141407,"y":81.94067587326764},{"moveTime":1.0,"x":235.17371541376556,"y":68.35047210715545},{"moveTime":1.0,"x":248.7820401586319,"y":88.11947556302692},{"moveTime":1.0,"x":231.90903888295216,"y":105.18704211338525},{"moveTime":1.0,"x":230.69461825587277,"y":129.1562970567606},{"moveTime":1.0,"x":220.86695407033721,"y":151.05189060104118}],[{"moveTime":1.0,"x":23.698786883440835,"y":3.790448555679479},{"moveTime":1.0,"x":21.866227395724685,"y":27.72038223139161},{"moveTime":1.0,"x":8.63875787836513,"y":47.746216799951384},{"moveTime":1.0,"x":28.119035931949345,"y":61.7647319479635},{"moveTime":1.0,"x":39.855479829137124,"y":82.69929391252735},{"moveTime":1.0,"x":63.08691001378925,"y":76.67429170708094},{"moveTime":1.0,"x":82.34391136026186,"y":62.350608551483276},{"moveTime":1.0,"x":101.86318586162315,"y":48.386442878572254},{"moveTime":1.0,"x":125.15520601333826,"y":54.17278863838452},{"moveTime":1.0,"x":119.98822210877212,"y":77.60998721948533},{"moveTime":1.0,"x":107.71907607379357,"y":98.23686423885911},{"moveTime":1.0,"x":106.28271282689548,"y":122.19384361070314},{"moveTime":1.0,"x":82.30199744599071,"y":121.23192374915676},{"moveTime":1.0,"x":59.51491904244133,"y":113.69872669674312},{"moveTime":1.0,"x":37.19466659859252,"y":122.51951639171155},{"moveTime":1.0,"x":27.985758601952774,"y":144.68245873945557},{"moveTime":1.0,"x":5.516758676790936,"y":136.2477659553005},{"moveTime":1.0,"x":10.340334135265781,"y":112.73748905781588},{"moveTime":1.0,"x":30.458865865672873,"y":99.65143995915348},{"moveTime":1.0,"x":42.81866681222352,"y":79.07875611475326}],[{"moveTime":1.0,"x":19.86056937275555,"y":13.474337987076183},{"moveTime":0.5280937609743482,"x":29.993783534027152,"y":21.087129229498576},{"moveTime":0.47190623902565176,"x":41.152099141524104,"y":23.027386918554132},{"moveTime":0.15309376097434776,"x":44.772031156022464,"y":23.656836843798214},{"moveTime":0.8469062390256522,"x":44.772031156022464,"y":23.656836843798214},{"moveTime":1.0,"x":67.44881314772758,"y":15.797857361659386},{"moveTime":1.0,"x":89.91588326023182,"y":24.23768914670219},{"moveTime":1.0,"x":100.45240076678358,"y":45.80112576599199},{"moveTime":1.0,"x":121.08463286133623,"y":58.06126437844297},{"moveTime":0.22606655227415182,"x":121.17336087810052,"y":63.48613607351035},{"moveTime":0.625,"x":126.35634752883252,"y":77.56223814022157},{"moveTime":0.14893344772584816,"x":126.35634752883252,"y":77.56223814022157},{"moveTime":1.0,"x":147.133477392184,"y":89.57518426685628},{"moveTime":1.0,"x":151.06093554797272,"y":113.25165090431148},{"moveTime":1.0,"x":172.77993608511207,"y":123.46365441330718},{"moveTime":1.0,"x":195.37761467541242,"y":131.5472750333933},{"moveTime":1.0,"x":208.77441956664615,"y":151.4602260629674},{"moveTime":1.0,"x":230.9088307096007,"y":142.18295042005104},{"moveTime":1.0,"x":253.84818258036842,"y":135.12702129986383},{"moveTime":1.0,"x":276.14787165948763,"y":143.99966842316417},{"moveTime":1.0,"x":269.6485084662746,"y":167.1028776825443},{"moveTime":1.0,"x":245.89640834638055,"y":163.66227600630677},{"moveTime":1.0,"x":222.88772747251724,"y":170.48873954497137},{"moveTime":0.39135322547502255,"x":213.67299880439492,"y":172.30736746088877},{"moveTime":0.6086467745249775,"x":200.7775676798411,"y":165.44532896723973}]]';
        foodJsonStr = '[{"x":137.39018876184284,"y":393.69700495277726},{"x":126.35634752883252,"y":77.56223814022157},{"x":216.17001938595038,"y":48.53700044850678},{"x":365.5588190768796,"y":90.61730587523803},{"x":69.13704653648345,"y":427.78021893240646},{"x":43.6148437887573,"y":5.528822150276779},{"x":133.85872028191764,"y":473.24529862856593},{"x":44.772031156022464,"y":23.656836843798214},{"x":200.4310910342661,"y":165.26095854517925},{"x":112.17547019448337,"y":404.8195273320135},{"x":1.3365080166743426,"y":337.2195478419335},{"x":226.73285242298147,"y":486.6352308376902},{"x":351.518501180256,"y":318.83964021424026},{"x":495.79913400072144,"y":372.8521129494073},{"x":140.81306761434243,"y":109.32499078243197},{"x":215.39225031141407,"y":81.94067587326764},{"x":426.67648160347215,"y":340.6887898218745},{"x":223.26466551988676,"y":326.6185522062135},{"x":461.57538226214547,"y":116.21967279012924},{"x":4.393973941140883,"y":489.99675956176105}]';
            p5.createCanvas(CANVAS_X, CANVAS_Y, p5.WEBGL);
    path = JSON.parse(jsonStr);
    foodPath = JSON.parse(foodJsonStr);
    // duration = path[0][1].moveTime * 75;
    // currentFrame = 0;
      path_curr = [];
      duration = [];
      currentFrame = [];
    for (i = 0; i < path.length; i++) {
        path_curr[i] = 0;
        duration[i] = path[i][1].moveTime * 75;
        currentFrame[i] = 0;
    }
    i = 0;

  }

  p5.draw = () => {
    p5.translate(-CANVAS_X / 2, -CANVAS_Y / 2);
    let x;
    let y;
    p5.background(255); // Clear the canvas with a white background
    p5.fill('rgb(0, 255, 0)');
    for (j = 0; j < foodPath.length; j++) {
        p5.ellipse(foodPath[j].x, foodPath[j].y, 5, 5);
      }
    p5.fill(0);

    // Calculate the current position of the dot
    for (j = 0; j < path.length; j++) {
        x = p5.lerp(path[j][path_curr[j]].x, path[j][path_curr[j] + 1].x, currentFrame[j] / duration[j]);
        y = p5.lerp(path[j][path_curr[j]].y, path[j][path_curr[j] + 1].y, currentFrame[j] / duration[j]);

        if (j === 0) p5.fill('red');
        if (j === 1) p5.fill('blue');
        if (j === 2) p5.fill('green');
        if (j === 3) p5.fill('yellow');
        if (j === 4) p5.fill('purple');
        if (j === 5) p5.fill('orange');
        if (j === 6) p5.fill('brown');
        if (j === 7) p5.fill('white');
        if (j === 8) p5.fill('black');
        if (j === 9) p5.fill('pink');
        p5.ellipse(x, y, 10, 10);
    }


    // Update the frame counter
    for (j = 0; j < path.length; j++) {
        if (currentFrame[j] < duration[j]) {
            currentFrame[j]++;
        }
        else {
            for (k = 0; k < foodPath.length; k++) {
                if (path[j][path_curr[j] + 1].x === foodPath[k].x && path[j][path_curr[j] + 1].y === foodPath[k].y) {
                    foodPath.splice(k, 1);
                }
            }
            currentFrame[j] = 0;
            path_curr[j]++;
            duration[j] = path[j][path_curr[j] + 1].moveTime * 75;
        }
    }

  };
}


function App() {
  const [population, setPopulation] = useState('');
  const [startWarning, setStartWarning] = useState('');
  const [showSketch, setShowSketch] = useState(false);
  const [evolution, setEvolution] = useState(false)

  useEffect(() => {


      fetch('http://localhost:8080/load')
    .then(response => response.text())
    .then(data => {
        setPopulation(data);
    })
    .catch(error => console.error('Error:', error));

  }, [])

  useEffect(() => {
      const interval = setInterval(() => {
          if (evolution === true) {
          fetch('http://localhost:8080/evolve')
            .then(response => response.text())
            .then(data => {
                setPopulation(data);
                if (startWarning !== '') {
                    setStartWarning('');
                }
            })
            .catch(error => console.error('Error:', error));
      }
      }, 3000);

      return () => clearInterval(interval);
  }, [evolution, startWarning])

  // var lklk = 0;
  // const evolve = () => {
  //     if (evolution === true) {
  //         fetch('http://localhost:8080/evolve')
  //           .then(response => response.text())
  //           .then(data => {
  //               setPopulation(data);
  //               if (startWarning !== '') {
  //                   setStartWarning('');
  //               }
  //           })
  //           .catch(error => console.error('Error:', error));
  //     }
  //     else {
  //         lklk++;
  //         console.log(lklk);
  //     }
  // };


  const reducefood = () => {
      fetch('http://localhost:8080/reducefood')
        .then(response => response.text())
        .then(data => {
          if (data === '') {
              setStartWarning('Start evolution first');
          }
          else {
              setPopulation(data);
          }
        })
        .catch(error => console.error('Error:', error));

  };




  const toggleSketch = () => {
      if (showSketch === false) {
          setShowSketch(true);
      }
      else {
          setShowSketch(false);
      }
  }

  const toggleEvolution = () => {
      if (evolution === false) {
          setEvolution(true);
          // evolve();
      }
      else {
          setEvolution(false);
      }
  }

  if (showSketch === false) {
      return (
          <div>
              <h2>Natural selection simulation</h2>

              <button onClick={toggleSketch}>Toggle sketch</button>
              <button onClick={toggleEvolution}>Toggle evolution</button>
              <button onClick={reducefood}>Reduce amount of food</button>
              <div id="response">{population}</div>
              <div id="startWarning">{startWarning}</div>

          </div>
      );
  }
  else {
      return (
          <div>

              <h2>Natural selection simulation</h2>

              <button onClick={toggleSketch}>Toggle sketch</button>
              <button onClick={toggleEvolution}>Toggle evolution</button>
              <button onClick={reducefood}>Reduce amount of food</button>
              <div id="response">{population}</div>
              <div id="startWarning">{startWarning}</div>
              <div className="sketch-div">
                  <ReactP5Wrapper sketch={sketch}/>
              </div>
          </div>
      );
  }


}

export default App;